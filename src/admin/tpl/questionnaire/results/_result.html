{% block result_javascripts %}
	<script src="{{url}}/js/Chart.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		function doChart(key, data) {
			doBarChart(key+"_bar", data);
		}

		function doBarChart(key, data) {
			var graphdata = {
				"labels": [
					"Strongly Disagree", //1
					"Disagree",          //2
					"Neutral",           //3
					"Agree",             //4
					"Strongly Agree"     //5
				],
				"datasets":[
					{
						"value":data[0],
						"fillColor":"#FC0",
						"strokeColor":"#000",
						"data":data
					}
				]
			}

			var ctx = document.getElementById(key).getContext("2d");
			var myNewChart = new Chart(ctx).Bar(graphdata, {animationSteps : 1});
		}
	</script>
{% endblock %}

{% block result %}
	<h4>{{question.QuestionText}}</h4>

	{% if question.QuestionType == "text" %}
		{{ block('answerlist') }}
	{% elseif question.QuestionType == "rate" %}
		{{ block('barchart') }}
	{% endif %}
{% endblock %}

{% block barchart %}
	<center>
	<canvas id="{{question.Key}}_bar" width="300" height="300"></canvas>
	<h5>Mean: {{question.Mean}}</h5>

	</center>
	<script>
		doChart("{{question.Key}}",{{question.Summary|json_encode()}});
	</script>	
{% endblock %}

{% block answerlist %}
	{% for result in question.Results %}
		{{result.Value}}<br/>
	{% endfor %}
{% endblock %}